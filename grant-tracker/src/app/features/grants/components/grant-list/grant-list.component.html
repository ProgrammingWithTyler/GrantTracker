<div class="grant-list-container">
  <div class="header">
    <h1>Grant Management</h1>
    <p class="subtitle">Track and manage educational grants</p>
  </div>

  <div *ngIf="isLoading" class="grants-grid">
    <mat-card *ngFor="let skeleton of [1,2,3]" class="grant-card skeleton-card">
      <mat-card-header>
        <div class="skeleton-line title-skeleton"></div>
        <div class="skeleton-line subtitle-skeleton"></div>
      </mat-card-header>
      <mat-card-content>
        <div class="grant-details">
          <div class="amount">
            <div class="skeleton-circle"></div>
            <div class="skeleton-line amount-skeleton"></div>
          </div>
          <div class="dates">
            <div class="date-item">
              <div class="skeleton-circle"></div>
              <div class="skeleton-line date-skeleton"></div>
            </div>
            <div class="date-item">
              <div class="skeleton-circle"></div>
              <div class="skeleton-line date-skeleton"></div>
            </div>
          </div>
          <div class="contact">
            <div class="skeleton-circle"></div>
            <div class="skeleton-line email-skeleton"></div>
          </div>
        </div>
      </mat-card-content>
      <mat-card-actions>
        <div class="skeleton-line status-skeleton"></div>
        <div class="spacer"></div>
        <div class="skeleton-line button-skeleton"></div>
      </mat-card-actions>
    </mat-card>
  </div>

  <!-- YOUR ORIGINAL CODE - Just change the *ngIf condition -->
  <div class="grants-grid" *ngIf="!isLoading && (grants$ | async) as grants">
    <mat-card *ngFor="let grant of grants" class="grant-card">
      <mat-card-header>
        <mat-card-title>{{ grant.title }}</mat-card-title>
        <mat-card-subtitle>{{ grant.fundingSource }}</mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        <div class="grant-details">
          <div class="amount">
            <mat-icon>attach_money</mat-icon>
            <span class="amount-value">{{ grant.amount | currency }}</span>
          </div>

          <div class="dates">
            <div class="date-item">
              <mat-icon>calendar_today</mat-icon>
              <span>Submitted: {{ grant.submissionDate | date:'MMM d, y' }}</span>
            </div>
            <div class="date-item">
              <mat-icon>event</mat-icon>
              <span>Due: {{ grant.dueDate | date:'MMM d, y' }}</span>
            </div>
          </div>

          <div class="contact">
            <mat-icon>email</mat-icon>
            <span>{{ grant.contactEmail }}</span>
          </div>
        </div>
      </mat-card-content>

      <mat-card-actions>
        <mat-chip
          [class]="'status-' + grant.status.toLowerCase()"
          class="status-chip">
          {{ grant.status }}
        </mat-chip>
        <div class="spacer"></div>
        <button mat-button color="primary">View Details</button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>
